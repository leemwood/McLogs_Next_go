# McLogs Next

**ç°ä»£åŒ– Minecraft æœåŠ¡å™¨æ—¥å¿—åˆ†æä¸åˆ†äº«å¹³å°**

[![License](https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square)](LICENSE)
[![PHP](https://img.shields.io/badge/PHP-8.4+-777BB4.svg?style=flat-square&logo=php&logoColor=white)](https://www.php.net/)
[![Vue](https://img.shields.io/badge/Vue.js-3.x-4FC08D.svg?style=flat-square&logo=vue.js&logoColor=white)](https://vuejs.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED.svg?style=flat-square&logo=docker&logoColor=white)](https://www.docker.com/)

## ğŸš€ é¡¹ç›®ç®€ä»‹

McLogs Next æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Web åº”ç”¨ç¨‹åºï¼Œä¸“ä¸º Minecraft æœåŠ¡å™¨ç®¡ç†å‘˜è®¾è®¡ï¼Œç”¨äºåˆ†äº«ã€åˆ†æå’Œè¯Šæ–­æœåŠ¡å™¨æ—¥å¿—ã€‚è¯¥é¡¹ç›®ä»ä¼ ç»Ÿçš„ PHP å‰ç«¯é‡æ„ä¸ºåŸºäº Vue 3 + TypeScript + Tailwind CSS çš„å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ï¼Œæä¾›äº†æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒå’Œæ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚

ä¸»è¦ç‰¹ç‚¹ï¼š
- **ç®€åŒ–æ—¥å¿—åˆ†äº«**ï¼šé€šè¿‡å”¯ä¸€ URL è½»æ¾åˆ†äº«å¤§å‹æ—¥å¿—æ–‡ä»¶
- **æ™ºèƒ½é”™è¯¯åˆ†æ**ï¼šåˆ©ç”¨å…ˆè¿›çš„åˆ†æåº“è‡ªåŠ¨æ£€æµ‹é—®é¢˜å¹¶æä¾›è§£å†³æ–¹æ¡ˆ
- **éšç§ä¿æŠ¤**ï¼šå†…ç½®è¿‡æ»¤æœºåˆ¶ï¼Œè‡ªåŠ¨éšè—æ•æ„Ÿä¿¡æ¯
- **ç°ä»£åŒ–ç•Œé¢**ï¼šå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **æ—¥å¿—åˆ†äº«**ï¼šé€šè¿‡å”¯ä¸€ URL åˆ†äº«å¤§å‹æ—¥å¿—æ–‡ä»¶ï¼Œæ— éœ€å¤æ‚ä¸Šä¼ æµç¨‹
- **æ™ºèƒ½åˆ†æ**ï¼šé›†æˆ aternos/codex åº“ï¼Œè‡ªåŠ¨è¯†åˆ«æœåŠ¡å™¨è½¯ä»¶ç±»å‹ï¼Œç²¾å‡†æ£€æµ‹é”™è¯¯å¹¶æä¾›è§£å†³æ–¹æ¡ˆ
- **éšç§ä¿æŠ¤**ï¼šæ™ºèƒ½è¿‡æ»¤ç®—æ³•ï¼Œè‡ªåŠ¨éšè—æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ IP åœ°å€ï¼‰
- **ç°ä»£åŒ– UI**ï¼šåŸºäº Shadcn/Vue å’Œ Tailwind CSS æ„å»ºï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼Œæ”¯æŒæ·±è‰²æ¨¡å¼
- **å¤šåç«¯å­˜å‚¨**ï¼šçµæ´»çš„å­˜å‚¨ç­–ç•¥ï¼Œæ”¯æŒ MongoDBï¼ˆé»˜è®¤ï¼‰ã€Redis å’Œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ
- **è¯­æ³•é«˜äº®**ï¼šä¸ºæ—¥å¿—æ–‡ä»¶æä¾›ä¸“ä¸šçš„è¯­æ³•é«˜äº®æ˜¾ç¤º

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | æè¿° |
|------|------|------|
| **å‰ç«¯** | Vue 3, Vite, TypeScript | ç°ä»£åŒ– SPA æ¶æ„ |
| **UI æ¡†æ¶** | Tailwind CSS, Shadcn/Vue | æç®€ä¸”é«˜åº¦å¯å®šåˆ¶çš„ UI ç»„ä»¶ |
| **æ„å»ºå·¥å…·** | Vite | å¿«é€Ÿçš„æ„å»ºå’Œå¼€å‘ä½“éªŒ |
| **åç«¯** | PHP 8.4+ | æä¾›ç¨³å¥çš„ REST API æœåŠ¡ |
| **æ•°æ®åº“** | MongoDB | é«˜æ€§èƒ½æ—¥å¿—å­˜å‚¨ï¼ˆé»˜è®¤ï¼‰ |
| **ç¼“å­˜** | Redis | å¯é€‰çš„é«˜é€Ÿç¼“å­˜å±‚ |
| **åŸºç¡€è®¾æ–½** | Docker, Docker Compose, Nginx | å®¹å™¨åŒ–éƒ¨ç½²ä¸ç»Ÿä¸€æœåŠ¡ç®¡ç† |

## ğŸ“¦ ä¾èµ–ç»„ä»¶

### PHP ä¾èµ–
- `mongodb/mongodb`: 2.1.2
- `aternos/codex-minecraft`: ^5.0.1 (æ—¥å¿—åˆ†æ)
- `aternos/sherlock`: ^1.0.2 (æ—¥å¿—åˆ†æ)
- `aternos/codex-hytale`: ^1.0 (Hytale æ—¥å¿—åˆ†æ)
- å¿…éœ€æ‰©å±•: json, zlib, mbstring

### å‰ç«¯ä¾èµ–
- `Vue 3`: ^3.5.24
- `TypeScript`: ~5.9.3
- `Tailwind CSS`: ^3.4.17
- `Axios`: ^1.13.2 (HTTP å®¢æˆ·ç«¯)
- `Highlight.js`: ^11.11.1 (è¯­æ³•é«˜äº®)
- `Radix-Vue`: ^1.9.17 (UI ç»„ä»¶)

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### ç¯å¢ƒè¦æ±‚
- Docker (20.10+)
- Docker Compose (2.0+)
- Node.js (20+, ç”¨äºæ„å»ºå‰ç«¯èµ„æº)
- PHP 8.4+ (ç”¨äºæœ¬åœ°å¼€å‘)

### éƒ¨ç½²æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-repo/McLogs_Next.git
   cd McLogs_Next
   ```

2. **å®‰è£… PHP ä¾èµ–**
   ```bash
   composer install
   ```

3. **æ„å»ºå‰ç«¯èµ„æº**
   ```bash
   cd web
   npm install
   npm run build
   cd ..
   ```

4. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   cd docker
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ä»¥é…ç½®æ‚¨çš„è®¾ç½®
   ```

5. **ä¿®æ”¹ Nginx é…ç½®**
   
   ç¼–è¾‘ `docker/mclogs.conf` æ–‡ä»¶ï¼Œå°†åŸŸåæ›¿æ¢ä¸ºæ‚¨çš„å®é™…åŸŸåï¼š
   
   ```nginx
   # å‰ç«¯æœåŠ¡
   server {
       ...
       server_name logs.yourdomain.com;  # æ›¿æ¢ä¸ºæ‚¨çš„å‰ç«¯åŸŸå
       ...
   }
   
   # API æœåŠ¡
   server {
       ...
       server_name api.logs.yourdomain.com;  # æ›¿æ¢ä¸ºæ‚¨çš„ API åŸŸå
       ...
   }
   ```

6. **å¯åŠ¨æœåŠ¡**
   ```bash
   docker-compose up -d
   ```

7. **é…ç½®åå‘ä»£ç†**
   
   ç”±äºå®¹å™¨å†…çš„ Nginx ä½¿ç”¨ server_name åŒºåˆ† API å’Œå‰ç«¯è¯·æ±‚ï¼Œæ‚¨éœ€è¦åœ¨å®¿ä¸»æœºä¸Šé…ç½®åå‘ä»£ç†ï¼Œå°†åŸŸåæµé‡è½¬å‘åˆ°å®¹å™¨çš„ 9300 ç«¯å£ï¼š
   
   ```nginx
   # å‰ç«¯åå‘ä»£ç†
   server {
       listen 80;
       server_name logs.yourdomain.com;
       
       location / {
           proxy_pass http://127.0.0.1:9300;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       }
   }
   
   # API åå‘ä»£ç†
   server {
       listen 80;
       server_name api.logs.yourdomain.com;
       
       location / {
           proxy_pass http://127.0.0.1:9300;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
       }
   }
   ```

## ğŸ”§ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   cd docker
   docker-compose up -d
   ```

2. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
   ```bash
   cd web
   npm install
   npm run dev
   ```
   
   å‰ç«¯å¼€å‘æœåŠ¡å™¨å°†åœ¨ http://localhost:5173 ä¸Šè¿è¡Œã€‚

3. **API ç«¯ç‚¹**
   
   API éµå¾ªç‰ˆæœ¬åŒ–ç»“æ„ (`/1/`)ï¼š
   - `/` - ä¸»å‰ç«¯å¤„ç†å™¨
   - `/1/log` - æäº¤æ–°æ—¥å¿—
   - `/1/analyse` - åˆ†ææ—¥å¿—
   - `/1/errors/rate` - é”™è¯¯ç‡ä¿¡æ¯
   - `/1/limits` - ç³»ç»Ÿé™åˆ¶ä¿¡æ¯
   - `/1/raw/{id}` - åŸå§‹æ—¥å¿—å†…å®¹æ£€ç´¢
   - `/1/ai-analysis/{id}` - ç‰¹å®šæ—¥å¿—çš„ AI åˆ†æ
   - `/1/insights/{id}` - ç‰¹å®šæ—¥å¿—çš„æ´å¯Ÿ

### é…ç½®æ–‡ä»¶

é…ç½®é€šè¿‡ `core/config/` ç›®å½•ä¸­çš„ PHP æ–‡ä»¶ç®¡ç†ï¼š
- `storage.php` - å­˜å‚¨åç«¯é…ç½®ï¼ˆMongoDBã€Redisã€æ–‡ä»¶ç³»ç»Ÿï¼‰
- `urls.php` - å‰ç«¯å’Œ API çš„åŸºç¡€ URL é…ç½®
- `ai.php` - AI åˆ†æè®¾ç½®
- `cache.php` - ç¼“å­˜é…ç½®
- `filter.php` - æ—¥å¿—è¿‡æ»¤è®¾ç½®
- `id.php` - ID ç”Ÿæˆè®¾ç½®
- `legal.php` - æ³•å¾‹åˆè§„è®¾ç½®

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼ä»¥ä¸‹æ˜¯å‚ä¸é¡¹ç›®çš„æ–¹å¼ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘çº¦å®š

- PHP 8.4+ æ˜¯å¿…éœ€çš„
- ä½¿ç”¨ PSR-4 è‡ªåŠ¨åŠ è½½ï¼Œé€šè¿‡ `core.php` ä¸­çš„è‡ªå®šä¹‰åŠ è½½å™¨å®ç°
- å‰ç«¯éµå¾ª Vue 3 Composition API æ¨¡å¼ä¸ TypeScript
- ä½¿ç”¨ Tailwind CSS å®ç”¨ä¼˜å…ˆæ–¹æ³•è¿›è¡Œæ ·å¼è®¾è®¡
- éµå¾ª RESTful API è®¾è®¡åŸåˆ™
- é‡‡ç”¨ Docker ä¼˜å…ˆçš„éƒ¨ç½²æ–¹å¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](LICENSE) å¼€æºã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·ï¼š
- æŸ¥çœ‹ [Issues](https://github.com/your-repo/McLogs_Next/issues) é¡µé¢
- æäº¤æ–°çš„ Issue
- æŸ¥é˜…æ–‡æ¡£

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [aternos/codex-minecraft](https://github.com/aternosorg/codex) æä¾›çš„æ—¥å¿—åˆ†æèƒ½åŠ›
- æ„Ÿè°¢ Vue.jsã€Tailwind CSSã€Docker ç­‰ä¼˜ç§€å¼€æºé¡¹ç›®çš„è´¡çŒ®